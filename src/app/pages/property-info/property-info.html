<app-propertImage-galary [propertyId]="propertyId" (wishlistToggle)="onWishlistClick($event)"
  [isFavourite]="property?.isFavourite"></app-propertImage-galary>

<div class="container-lg">
  <div class="property-details-box mt-2">
    <div class="main-content d-flex flex-column align-items-center w-100">
      <div class="col-12 px-0">
        <!-- property info, description, amenities, etc. -->
        <app-amenities-section [propertyId]="propertyId" [property]="selectedProperty"></app-amenities-section>
      </div>
      <div class="col-12 d-flex justify-content-center px-0">
        <app-BookingCalendar [propertyId]="propertyId" [checkIn]="selectedDates.start" [checkOut]="selectedDates.end"
          [dateMap]="dateMap" (datedChange)="onDateChange($event)">
        </app-BookingCalendar>
      </div>
    </div>
    <div class="bookinCalender">
      <div class="sticky-box">
        <app-reverse-section [dateMap]="dateMap" [propertyId]="propertyId" [hostID]="hostID"
          [checkIn]="selectedDates.start" [checkOut]="selectedDates.end" [guests]="guestCount" [isPreview]="isPreview"
          (guestChange)="onGuestChange($event)" (dateChange)="onDateChange($event)">
        </app-reverse-section>
      </div>
    </div>
  </div>
</div>


<div class="mapSection mt-15 mx-auto col-12">
  <app-mapLocation [propertyId]="propertyId"></app-mapLocation>
</div>

<div class="d-flex justify-content-end">
  <p class="border-1 px-2 py-1">Report violation</p>
</div>


<div class="property-container">
  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
  </div>

  <!-- Property Content -->
  <div *ngIf="propertyId && !isLoading" class="property-content">
    <h1>{{ property.title }}</h1>
    <p>{{ property.description }}</p>

    <!-- Navigation Tabs -->
    <div class="tabs">
      <button [class.active]="activeTab === 'gallery'" (click)="changeTab('gallery')">
        Gallery
      </button>
      <button [class.active]="activeTab === 'reviews'" (click)="changeTab('reviews')">
        Reviews
      </button>
      <button [class.active]="activeTab === 'amenities'" (click)="changeTab('amenities')">
        Amenities
      </button>
    </div>

    <hr style="color: black; width: 5px;" />
  </div>

  <app-guest-reviews [propertyId]="propertyId"></app-guest-reviews>

  <app-wish-list-modal *ngIf="showWishlistModal" [propertyId]="selectedPropertyId" (close)="onClose()"
    (finish)="onFinish($event)" [show]="showWishlistModal" [userId]="authService.userId ?? undefined" class="col-12">
  </app-wish-list-modal>

  <app-chat-bot></app-chat-bot>
</div>