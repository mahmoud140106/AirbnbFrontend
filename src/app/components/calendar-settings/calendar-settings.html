<div class="settings-panel">
  <div class="settings-header">
    <h2>{{ 'SETTINGS.TITLE' | translate }}</h2>
    <p class="settings-description">
      {{ 'SETTINGS.DESCRIPTION' | translate }}
    </p>
  </div>

  <div class="settings-tabs">
    <button class="tab-btn" [class.active]="activeTab === 'pricing'" (click)="setActiveTab('pricing')">
      {{ 'SETTINGS.TABS.PRICING' | translate }}
    </button>
  </div>

  @if (activeTab === 'pricing') {
  <div class="tab-content pricing-tab active">
    @if (showBlockOptions) {
    <div class="pricing-edit-section">
      <div class="selected-dates-info mb-3">
        <h4>{{ 'SETTINGS.BLOCK.HEADER' | translate }}</h4>
      </div>
      <div class="block-options mb-3">
        <button class="block-toggle" [class.active]="selectedBlockOption === 'open'" (click)="setBlockOption('open')">
          {{ 'SETTINGS.BLOCK.OPEN' | translate }}
        </button>
        <button class="block-toggle" [class.active]="selectedBlockOption === 'blocked'"
          (click)="setBlockOption('blocked')">
          {{ 'SETTINGS.BLOCK.BLOCKED' | translate }}
        </button>
      </div>

      @if (selectedBlockOption === 'open') {
      <div class="price-section">
        <div class="price-input-group mt-3">
          <span class="currency">{{ settings.pricing.currency }}</span>
          <input id="selectedDatePrice" type="number" class="price-input" [value]="selectedDatePrice"
            (input)="onPriceInputChange(+$event.target.value)" min="0" step="1" />
        </div>
        <p class="price-note">{{ 'SETTINGS.BLOCK.PRICE_NOTE' | translate }}</p>
      </div>
      }

      <div class="d-flex justify-content-between align-items-center mt-4 pt-3 border-top">
        <button class="btn btn-outline-dark" (click)="onClearSelection()">
          {{ 'SETTINGS.BLOCK.CLEAR_SELECTION' | translate }}
        </button>
        <button class="btn btn-dark" (click)="onSaveChanges()">
          {{ 'SETTINGS.BLOCK.SAVE_CHANGES' | translate }}
        </button>
      </div>
    </div>
    } @else {
    <div class="help-section">
      <div class="help-card">
        <h6>ðŸ’¡ {{ 'SETTINGS.HELP.TITLE' | translate }}</h6>
        <ul class="help-list">
          <li>
            <strong>{{ 'SETTINGS.HELP.OPEN' | translate }}</strong>
            {{ 'SETTINGS.HELP.OPEN_DESC' | translate }}
          </li>
          <li>
            <strong>{{ 'SETTINGS.HELP.BLOCKED' | translate }}</strong>
            {{ 'SETTINGS.HELP.BLOCKED_DESC' | translate }}
          </li>
          <li>{{ 'SETTINGS.HELP.SINGLE_OR_RANGE' | translate }}</li>
          <li>{{ 'SETTINGS.HELP.AFFECTS_SELECTED' | translate }}</li>
        </ul>
      </div>
    </div>
    }
  </div>
  }
</div>